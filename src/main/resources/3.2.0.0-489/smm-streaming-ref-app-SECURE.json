{
	"topologyName":"streaming-ref-app",
	"config":"{\"topology.workers\":1,\"topology.acker.executors\":1,\"topology.message.timeout.secs\":30,\"topology.eventlogger.executors\":1,\"clustersSecurityConfig\":[{\"clusterId\":1,\"keytabPath\":\"/etc/security/keytabs/truck_streaming_analytics_service.keytab\",\"principal\":\"truck_streaming_analytics_service@STREAMANALYTICS\"}],\"topology.worker.childopts\":\"-Xmx3072m\"}",
	"sources":[
		{
			"id":55,
			"topologyId":11,
			"topologyComponentBundleId":1,
			"versionId":54,
			"name":"TruckGeoSream",
			"description":"",
			"config":{
				"properties":{
					"cluster":"1",
					"consumerGroupId":"sam-geo-stream-consumer-5",
					"retryDelayPeriodMs":2,
					"maximumUncommittedOffsets":10000000,
					"maxRecordsPerPoll":"500",
					"maximumRetries":2147483647,
					"parallelism":1,
					"keytab":"/etc/security/keytabs/truck_streaming_analytics_service.keytab",
					"emitNullTuples":false,
					"principal":"truck_streaming_analytics_service@STREAMANALYTICS",
					"partitionRefreshPeriodMs":2000,
					"securityProtocol":"SASL_PLAINTEXT",
					"bootstrapServers":"c-dps-connected-dp11.field.hortonworks.com:6667,c-dps-connected-dp12.field.hortonworks.com:6667,c-dps-connected-dp13.field.hortonworks.com:6667,c-dps-connected-dp14.field.hortonworks.com:6667,c-dps-connected-dp15.field.hortonworks.com:6667",
					"kafkaServiceName":"kafka",
					"retryDelayMaximumMs":10000,
					"fetchMaximumBytesPerPartition":"1048576",
					"firstPollOffsetStrategy":"LATEST",
					"sslTruststoreType":"JKS",
					"clusters":"orlandostreamcluster",
					"fetchMinimumBytes":"1",
					"sslKeystoreType":"JKS",
					"schemaBranch":"MASTER",
					"sslTrustManagerAlgo":"PKIX",
					"retryInitialDelayMs":0,
					"sslKeyManagerAlgo":"SunX509",
					"sslProtocol":"TLS",
					"topic":"syndicate-geo-event-avro",
					"readerSchemaVersion":"1",
					"pollTimeoutMs":200,
					"offsetCommitPeriodMs":30000
				}
			},
			"reconfigure":false,
			"outputStreams":[
				{
					"id":50,
					"versionId":54,
					"streamId":"kafka_stream_13",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"eventTime",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventTimeLong",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"eventSource",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"truckId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"routeId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventType",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"latitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"longitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"correlationId",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"geoAddress",
							"type":"STRING",
							"optional":true
						}
					],
					"timestamp":1533146891337
				}
			]
		},
		{
			"id":54,
			"topologyId":11,
			"topologyComponentBundleId":1,
			"versionId":54,
			"name":"TruckSpeedStream",
			"description":"",
			"config":{
				"properties":{
					"cluster":"1",
					"consumerGroupId":"sam-speed-stream-consumer-5",
					"retryDelayPeriodMs":2,
					"maximumUncommittedOffsets":10000000,
					"maxRecordsPerPoll":"500",
					"maximumRetries":2147483647,
					"parallelism":1,
					"keytab":"/etc/security/keytabs/truck_streaming_analytics_service.keytab",
					"emitNullTuples":false,
					"principal":"truck_streaming_analytics_service@STREAMANALYTICS",
					"partitionRefreshPeriodMs":2000,
					"securityProtocol":"SASL_PLAINTEXT",
					"bootstrapServers":"c-dps-connected-dp11.field.hortonworks.com:6667,c-dps-connected-dp12.field.hortonworks.com:6667,c-dps-connected-dp13.field.hortonworks.com:6667,c-dps-connected-dp14.field.hortonworks.com:6667,c-dps-connected-dp15.field.hortonworks.com:6667",
					"kafkaServiceName":"kafka",
					"retryDelayMaximumMs":10000,
					"fetchMaximumBytesPerPartition":"1048576",
					"firstPollOffsetStrategy":"LATEST",
					"sslTruststoreType":"JKS",
					"clusters":"orlandostreamcluster",
					"fetchMinimumBytes":"1",
					"sslKeystoreType":"JKS",
					"schemaBranch":"MASTER",
					"sslTrustManagerAlgo":"PKIX",
					"retryInitialDelayMs":0,
					"sslKeyManagerAlgo":"SunX509",
					"sslProtocol":"TLS",
					"topic":"syndicate-speed-event-avro",
					"readerSchemaVersion":"1",
					"pollTimeoutMs":200,
					"offsetCommitPeriodMs":30000
				}
			},
			"reconfigure":false,
			"outputStreams":[
				{
					"id":49,
					"versionId":54,
					"streamId":"kafka_stream_14",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"eventTime",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventTimeLong",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"eventSource",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"truckId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"routeId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"speed",
							"type":"INTEGER",
							"optional":false
						}
					],
					"timestamp":1533146891337
				}
			]
		}
	],
	"sinks":[
		{
			"id":60,
			"topologyId":11,
			"topologyComponentBundleId":11,
			"versionId":54,
			"name":"Operational-Store-HBase",
			"description":"",
			"config":{
				"properties":{
					"writeToWAL":true,
					"cluster":"1",
					"columnFamily":"events",
					"parallelism":1,
					"rowKeyField":"eventTime",
					"batchSize":100,
					"clusters":"orlandostreamcluster",
					"table":"default:violation_events"
				}
			},
			"reconfigure":false,
			"timestamp":1533146891337
		},
		{
			"id":61,
			"topologyId":11,
			"topologyComponentBundleId":10,
			"versionId":54,
			"name":"DataLake-HDFS",
			"description":"",
			"config":{
				"properties":{
					"fsUrl":"hdfs://c-dps-connected-dp0.field.hortonworks.com:8020",
					"outputFields":[
						"eventTime",
						"eventTimeLong",
						"eventSource",
						"truckId",
						"driverId",
						"driverName",
						"routeId",
						"route",
						"eventType",
						"latitude",
						"longitude",
						"correlationId",
						"geoAddress",
						"speed"
					],
					"cluster":"1",
					"path":"/apps/trucking-app",
					"extension":".txt",
					"rotationPolicy":{
						"timeBasedRotation":{
							"rotationInterval":3,
							"rotationIntervalUnit":"MINUTES"
						}
					},
					"prefix":"violation",
					"parallelism":1,
					"countPolicyValue":3,
					"clusters":"orlandostreamcluster"
				}
			},
			"reconfigure":false,
			"timestamp":1533146891337
		},
		{
			"id":62,
			"topologyId":11,
			"topologyComponentBundleId":16,
			"versionId":54,
			"name":"Dashboard-Speeding-Drivers",
			"description":"",
			"config":{
				"properties":{
					"cluster":"1",
					"clusterReplication":1,
					"segmentGranularity":"HOUR",
					"indexRetryPeriod":"PT10M",
					"maxBatchSize":2000,
					"maxPendingBatches":5,
					"discoveryPath":"/druid/discovery",
					"parallelism":1,
					"clusterPartitions":1,
					"windowPeriod":"PT10M",
					"aggregatorList":[
						{
							"count":{
								"name":"cnt"
							}
						}
					],
					"tranquilityZKconnect":"c-dps-connected-dp1.field.hortonworks.com:2181,c-dps-connected-dp2.field.hortonworks.com:2181,c-dps-connected-dp0.field.hortonworks.com:2181",
					"discardStreamId":"DRUID-DISCARD-STREAM-ID",
					"indexService":"druid/overlord",
					"blockOnFull":true,
					"timestampField":"processingTime",
					"lingerMillis":0,
					"queryGranularity":"MINUTE",
					"dataSource":"speeding-drivers-cube",
					"clusters":"orlandostreamcluster",
					"dimensions":[
						"driverId",
						"driverName",
						"route",
						"speed_AVG"
					]
				}
			},
			"reconfigure":false,
			"timestamp":1533146891337
		}
	],
	"processors":[
		{
			"id":56,
			"topologyId":11,
			"topologyComponentBundleId":7,
			"versionId":54,
			"name":"JOIN",
			"description":"",
			"config":{
				"properties":{
					"joins":[
						{
							"type":"INNER",
							"stream":"kafka_stream_14",
							"key":"driverId",
							"with":"kafka_stream_13"
						}
					],
					"parallelism":1,
					"from":{
						"stream":"kafka_stream_13",
						"key":"driverId"
					},
					"outputKeys":[
						"kafka_stream_13:eventTime as eventTime",
						"kafka_stream_13:eventTimeLong as eventTimeLong",
						"kafka_stream_13:eventSource as eventSource",
						"kafka_stream_13:truckId as truckId",
						"kafka_stream_13:driverId as driverId",
						"kafka_stream_13:driverName as driverName",
						"kafka_stream_13:routeId as routeId",
						"kafka_stream_13:route as route",
						"eventType as eventType",
						"latitude as latitude",
						"longitude as longitude",
						"correlationId as correlationId",
						"geoAddress as geoAddress",
						"speed as speed"
					],
					"window":{
						"windowLength":{
							"class":".Window$Duration",
							"durationMs":3000
						},
						"slidingInterval":{
							"class":".Window$Duration",
							"durationMs":3000
						},
						"tsFields":null,
						"lagMs":0
					},
					"outputStream":"join_processor_stream_15"
				}
			},
			"reconfigure":false,
			"outputStreams":[
				{
					"id":51,
					"versionId":54,
					"streamId":"join_processor_stream_15",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"eventTime",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventTimeLong",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"eventSource",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"truckId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"routeId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventType",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"latitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"longitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"correlationId",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"geoAddress",
							"type":"STRING",
							"optional":true
						},
						{
							"name":"speed",
							"type":"INTEGER",
							"optional":false
						}
					],
					"timestamp":1533146891337
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":57,
			"topologyId":11,
			"topologyComponentBundleId":4,
			"versionId":54,
			"name":"EventType",
			"description":"",
			"config":{
				"properties":{
					"rules":[
						11
					]
				}
			},
			"reconfigure":false,
			"outputStreams":[
				{
					"id":52,
					"versionId":54,
					"streamId":"rule_transform_stream_2",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"eventTime",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventTimeLong",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"eventSource",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"truckId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"routeId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventType",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"latitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"longitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"correlationId",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"geoAddress",
							"type":"STRING",
							"optional":true
						},
						{
							"name":"speed",
							"type":"INTEGER",
							"optional":false
						}
					],
					"timestamp":1533146891337
				},
				{
					"id":53,
					"versionId":54,
					"streamId":"rule_notifier_stream_2",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"eventTime",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventTimeLong",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"eventSource",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"truckId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"routeId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"eventType",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"latitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"longitude",
							"type":"DOUBLE",
							"optional":false
						},
						{
							"name":"correlationId",
							"type":"LONG",
							"optional":false
						},
						{
							"name":"geoAddress",
							"type":"STRING",
							"optional":true
						},
						{
							"name":"speed",
							"type":"INTEGER",
							"optional":false
						}
					],
					"timestamp":1533146891337
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":58,
			"topologyId":11,
			"topologyComponentBundleId":5,
			"versionId":54,
			"name":"DriverAvgSpeed",
			"description":"",
			"config":{
				"properties":{
					"rules":[
						5
					],
					"parallelism":1
				}
			},
			"reconfigure":false,
			"outputStreams":[
				{
					"id":54,
					"versionId":54,
					"streamId":"window_transform_stream_19",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"speed_AVG",
							"type":"DOUBLE",
							"optional":false
						}
					],
					"timestamp":1533146891337
				},
				{
					"id":55,
					"versionId":54,
					"streamId":"window_notifier_stream_19",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"speed_AVG",
							"type":"DOUBLE",
							"optional":false
						}
					],
					"timestamp":1533146891337
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":59,
			"topologyId":11,
			"topologyComponentBundleId":4,
			"versionId":54,
			"name":"Speeding",
			"description":"",
			"config":{
				"properties":{
					"rules":[
						12
					]
				}
			},
			"reconfigure":false,
			"outputStreams":[
				{
					"id":56,
					"versionId":54,
					"streamId":"rule_transform_stream_3",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"speed_AVG",
							"type":"DOUBLE",
							"optional":false
						}
					],
					"timestamp":1533146891337
				},
				{
					"id":57,
					"versionId":54,
					"streamId":"rule_notifier_stream_3",
					"description":null,
					"topologyId":11,
					"fields":[
						{
							"name":"driverId",
							"type":"INTEGER",
							"optional":false
						},
						{
							"name":"driverName",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"route",
							"type":"STRING",
							"optional":false
						},
						{
							"name":"speed_AVG",
							"type":"DOUBLE",
							"optional":false
						}
					],
					"timestamp":1533146891337
				}
			],
			"timestamp":1533146891337
		}
	],
	"edges":[
		{
			"id":43,
			"versionId":54,
			"topologyId":11,
			"fromId":55,
			"toId":56,
			"streamGroupings":[
				{
					"streamId":50,
					"grouping":"FIELDS",
					"fields":[
						"driverId"
					]
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":42,
			"versionId":54,
			"topologyId":11,
			"fromId":54,
			"toId":56,
			"streamGroupings":[
				{
					"streamId":49,
					"grouping":"FIELDS",
					"fields":[
						"driverId"
					]
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":44,
			"versionId":54,
			"topologyId":11,
			"fromId":56,
			"toId":57,
			"streamGroupings":[
				{
					"streamId":51,
					"grouping":"SHUFFLE",
					"fields":null
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":45,
			"versionId":54,
			"topologyId":11,
			"fromId":57,
			"toId":58,
			"streamGroupings":[
				{
					"streamId":52,
					"grouping":"FIELDS",
					"fields":[
						"driverId",
						"driverName",
						"route"
					]
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":46,
			"versionId":54,
			"topologyId":11,
			"fromId":57,
			"toId":61,
			"streamGroupings":[
				{
					"streamId":52,
					"grouping":"SHUFFLE",
					"fields":null
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":47,
			"versionId":54,
			"topologyId":11,
			"fromId":57,
			"toId":60,
			"streamGroupings":[
				{
					"streamId":52,
					"grouping":"SHUFFLE",
					"fields":null
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":48,
			"versionId":54,
			"topologyId":11,
			"fromId":58,
			"toId":59,
			"streamGroupings":[
				{
					"streamId":54,
					"grouping":"SHUFFLE",
					"fields":null
				}
			],
			"timestamp":1533146891337
		},
		{
			"id":49,
			"versionId":54,
			"topologyId":11,
			"fromId":59,
			"toId":62,
			"streamGroupings":[
				{
					"streamId":56,
					"grouping":"SHUFFLE",
					"fields":null
				}
			],
			"timestamp":1533146891337
		}
	],
	"rules":[
		{
			"reconfigure":false,
			"id":11,
			"versionId":54,
			"topologyId":11,
			"name":"Violation Event",
			"description":"violation event",
			"streams":[
				"join_processor_stream_15"
			],
			"condition":"eventType <> 'Normal'",
			"sql":"SELECT *  FROM join_processor_stream_15 WHERE eventType <> 'Normal'",
			"actions":[
				{
					"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction",
					"name":"transformAction",
					"outputStreams":[
						"rule_transform_stream_2"
					],
					"transforms":[
						
					]
				}
			],
			"outputStreams":[
				"rule_transform_stream_2",
				"rule_notifier_stream_2"
			],
			"timestamp":1533146891337
		},
		{
			"reconfigure":false,
			"id":12,
			"versionId":54,
			"topologyId":11,
			"name":"Speeding Driver",
			"description":"speeding",
			"streams":[
				"window_transform_stream_19"
			],
			"condition":"speed_AVG > 80",
			"sql":"SELECT *  FROM window_transform_stream_19 WHERE speed_AVG > 80",
			"actions":[
				{
					"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction",
					"name":"transformAction",
					"outputStreams":[
						"rule_transform_stream_3"
					],
					"transforms":[
						
					]
				}
			],
			"outputStreams":[
				"rule_transform_stream_3",
				"rule_notifier_stream_3"
			],
			"timestamp":1533146891337
		}
	],
	"windows":[
		{
			"reconfigure":false,
			"id":5,
			"versionId":54,
			"topologyId":11,
			"name":"window_auto_generated",
			"description":"window description auto generated",
			"streams":[
				"rule_transform_stream_2"
			],
			"window":{
				"windowLength":{
					"class":".Window$Duration",
					"durationMs":180000
				},
				"slidingInterval":{
					"class":".Window$Duration",
					"durationMs":180000
				},
				"tsField":null,
				"tsFields":[
					
				],
				"lagMs":0,
				"lateStream":null
			},
			"actions":[
				{
					"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction",
					"name":"transformAction",
					"outputStreams":[
						"window_transform_stream_19"
					],
					"transforms":[
						
					]
				}
			],
			"projections":[
				{
					"expr":"AVG(speed) AS speed_AVG"
				},
				{
					"expr":"driverId"
				},
				{
					"expr":"driverName"
				},
				{
					"expr":"route"
				}
			],
			"groupbykeys":[
				"driverId",
				"driverName",
				"route"
			],
			"outputStreams":[
				"window_transform_stream_58",
				"window_notifier_stream_58"
			],
			"timestamp":1533146891337
		}
	],
	"branchRules":[
		
	],
	"bundleIdToType":{
		"11":"HBASE",
		"1":"KAFKA",
		"4":"RULE",
		"5":"WINDOW",
		"16":"DRUID",
		"7":"JOIN",
		"10":"HDFS"
	},
	"topologyEditorMetadata":{
		"topologyId":11,
		"versionId":54,
		"data":"{\"sources\":[{\"x\":163.75,\"y\":133.25,\"id\":55},{\"x\":163.52178955078125,\"y\":243.475830078125,\"id\":54}],\"sinks\":[{\"x\":1455.8499755859375,\"y\":5.316413879394531,\"id\":62},{\"x\":916.8576049804688,\"y\":179.548828125,\"id\":61},{\"x\":906.829833984375,\"y\":370.07635498046875,\"id\":60}],\"processors\":[{\"x\":456.83392333984375,\"y\":184.5626983642578,\"id\":56},{\"x\":677.4447021484375,\"y\":179.548828125,\"id\":57},{\"x\":904.3228759765625,\"y\":5.316413879394531,\"id\":58},{\"x\":1181.33984375,\"y\":5.316413879394531,\"id\":59}],\"graphTransforms\":{\"dragCoords\":[-66.85145104920593,83.80294094619984],\"zoomScale\":0.7977850010816556},\"customNames\":null}",
		"timestamp":1533146782928
	}
}