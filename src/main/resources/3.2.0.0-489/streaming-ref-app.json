{"topologyName":"test-streaming-ref-app-advanced","config":"{\"topology.workers\":3,\"topology.acker.executors\":1,\"topology.message.timeout.secs\":30,\"topology.eventlogger.executors\":1,\"clustersSecurityConfig\":[{}],\"topology.worker.childopts\":\"-Xmx3072m\"}","sources":[{"id":42,"topologyId":4,"topologyComponentBundleId":1,"versionId":19,"name":"TruckGeoEvent","description":"","config":{"properties":{"cluster":"17","consumerGroupId":"sam-geo-stream-consumer","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":1,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"connected-dp4.field.hortonworks.com:6667,connected-dp5.field.hortonworks.com:6667,connected-dp6.field.hortonworks.com:6667,connected-dp7.field.hortonworks.com:6667","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"LATEST","sslTruststoreType":"JKS","clusters":"connected-data-platform","fetchMinimumBytes":"1","sslKeystoreType":"JKS","schemaBranch":"MASTER","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"truck_events_avro","readerSchemaVersion":"1","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"reconfigure":false,"outputStreams":[{"id":51,"versionId":19,"streamId":"kafka_stream_22","description":null,"topologyId":4,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventTimeLong","type":"LONG","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true}],"timestamp":1528179181783}]},{"id":41,"topologyId":4,"topologyComponentBundleId":1,"versionId":19,"name":"TruckSpeedEvent","description":"","config":{"properties":{"cluster":"17","consumerGroupId":"sam-speed-stream-consumer","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":1,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"connected-dp4.field.hortonworks.com:6667,connected-dp5.field.hortonworks.com:6667,connected-dp6.field.hortonworks.com:6667,connected-dp7.field.hortonworks.com:6667","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"LATEST","sslTruststoreType":"JKS","clusters":"connected-data-platform","fetchMinimumBytes":"1","sslKeystoreType":"JKS","schemaBranch":"MASTER","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"truck_speed_events_avro","readerSchemaVersion":"1","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"reconfigure":false,"outputStreams":[{"id":50,"versionId":19,"streamId":"kafka_stream_23","description":null,"topologyId":4,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventTimeLong","type":"LONG","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1528179181783}]}],"sinks":[{"id":48,"topologyId":4,"topologyComponentBundleId":16,"versionId":19,"name":"Dashboard-Speeding-Drivers","description":"","config":{"properties":{"cluster":"17","clusterReplication":1,"segmentGranularity":"HOUR","indexRetryPeriod":"PT10M","maxBatchSize":2000,"maxPendingBatches":5,"discoveryPath":"/druid/discovery","parallelism":1,"clusterPartitions":1,"windowPeriod":"PT10M","aggregatorList":[{"count":{"name":"cnt"}}],"tranquilityZKconnect":"connected-dp1.field.hortonworks.com:2181,connected-dp0.field.hortonworks.com:2181,connected-dp2.field.hortonworks.com:2181","discardStreamId":"DRUID-DISCARD-STREAM-ID","indexService":"druid/overlord","blockOnFull":true,"timestampField":"processingTime","lingerMillis":0,"queryGranularity":"MINUTE","dataSource":"alerts-speeding-drivers-cube-3","clusters":"connected-data-platform","dimensions":["driverId","driverName","route","speed_AVG_Round"]}},"reconfigure":false,"timestamp":1528179181783}],"processors":[{"id":43,"topologyId":4,"topologyComponentBundleId":7,"versionId":19,"name":"JOIN","description":"","config":{"properties":{"joins":[{"type":"INNER","stream":"kafka_stream_23","key":"driverId","with":"kafka_stream_22"}],"parallelism":1,"from":{"stream":"kafka_stream_22","key":"driverId"},"outputKeys":["kafka_stream_22:eventTime as eventTime","kafka_stream_22:eventTimeLong as eventTimeLong","kafka_stream_22:eventSource as eventSource","kafka_stream_22:truckId as truckId","kafka_stream_22:driverId as driverId","kafka_stream_22:driverName as driverName","kafka_stream_22:routeId as routeId","kafka_stream_22:route as route","eventType as eventType","latitude as latitude","longitude as longitude","correlationId as correlationId","geoAddress as geoAddress","speed as speed"],"window":{"windowLength":{"class":".Window$Duration","durationMs":3000},"slidingInterval":{"class":".Window$Duration","durationMs":3000},"tsFields":null,"lagMs":0},"outputStream":"join_processor_stream_24"}},"reconfigure":false,"outputStreams":[{"id":52,"versionId":19,"streamId":"join_processor_stream_24","description":null,"topologyId":4,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventTimeLong","type":"LONG","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1528179181783}],"timestamp":1528179181783},{"id":44,"topologyId":4,"topologyComponentBundleId":4,"versionId":19,"name":"EvenTypeFilter","description":"","config":{"properties":{"rules":[14]}},"reconfigure":false,"outputStreams":[{"id":53,"versionId":19,"streamId":"rule_transform_stream_10","description":null,"topologyId":4,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventTimeLong","type":"LONG","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1528179181783},{"id":54,"versionId":19,"streamId":"rule_notifier_stream_10","description":null,"topologyId":4,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventTimeLong","type":"LONG","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1528179181783}],"timestamp":1528179181783},{"id":49,"topologyId":4,"topologyComponentBundleId":5,"versionId":19,"name":"isDriverAvgSpeed","description":"","config":{"properties":{"rules":[7],"parallelism":1}},"reconfigure":false,"outputStreams":[{"id":61,"versionId":19,"streamId":"window_transform_stream_49","description":null,"topologyId":4,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"SPEED_AVG","type":"DOUBLE","optional":false}],"timestamp":1528179181783},{"id":62,"versionId":19,"streamId":"window_notifier_stream_49","description":null,"topologyId":4,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"SPEED_AVG","type":"DOUBLE","optional":false}],"timestamp":1528179181783}],"timestamp":1528179181783},{"id":46,"topologyId":4,"topologyComponentBundleId":4,"versionId":19,"name":"isDriverSpeeding","description":"","config":{"properties":{"rules":[15]}},"reconfigure":false,"outputStreams":[{"id":57,"versionId":19,"streamId":"rule_transform_stream_11","description":null,"topologyId":4,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"SPEED_AVG","type":"DOUBLE","optional":false}],"timestamp":1528179181783},{"id":58,"versionId":19,"streamId":"rule_notifier_stream_11","description":null,"topologyId":4,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"SPEED_AVG","type":"DOUBLE","optional":false}],"timestamp":1528179181783}],"timestamp":1528179181783},{"id":47,"topologyId":4,"topologyComponentBundleId":9,"versionId":19,"name":"Round","description":"","config":{"properties":{"rules":[16]}},"reconfigure":false,"outputStreams":[{"id":59,"versionId":19,"streamId":"projection_transform_stream_39","description":null,"topologyId":4,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG_Round","type":"DOUBLE","optional":false}],"timestamp":1528179181783},{"id":60,"versionId":19,"streamId":"projection_notifier_stream_39","description":null,"topologyId":4,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG_Round","type":"DOUBLE","optional":false}],"timestamp":1528179181783}],"timestamp":1528179181783}],"edges":[{"id":41,"versionId":19,"topologyId":4,"fromId":42,"toId":43,"streamGroupings":[{"streamId":51,"grouping":"FIELDS","fields":["driverId"]}],"timestamp":1528179181783},{"id":40,"versionId":19,"topologyId":4,"fromId":41,"toId":43,"streamGroupings":[{"streamId":50,"grouping":"FIELDS","fields":["driverId"]}],"timestamp":1528179181783},{"id":42,"versionId":19,"topologyId":4,"fromId":43,"toId":44,"streamGroupings":[{"streamId":52,"grouping":"SHUFFLE","fields":null}],"timestamp":1528179181783},{"id":47,"versionId":19,"topologyId":4,"fromId":44,"toId":49,"streamGroupings":[{"streamId":53,"grouping":"FIELDS","fields":["driverId","driverName","route"]}],"timestamp":1528179181783},{"id":48,"versionId":19,"topologyId":4,"fromId":49,"toId":46,"streamGroupings":[{"streamId":61,"grouping":"SHUFFLE","fields":null}],"timestamp":1528179181783},{"id":45,"versionId":19,"topologyId":4,"fromId":46,"toId":47,"streamGroupings":[{"streamId":57,"grouping":"SHUFFLE","fields":null}],"timestamp":1528179181783},{"id":46,"versionId":19,"topologyId":4,"fromId":47,"toId":48,"streamGroupings":[{"streamId":59,"grouping":"SHUFFLE","fields":null}],"timestamp":1528179181783}],"rules":[{"reconfigure":false,"id":14,"versionId":19,"topologyId":4,"name":"ViolationEvent","description":"Violation Event","streams":["join_processor_stream_24"],"condition":"eventType <> 'Normal'","sql":"SELECT *  FROM join_processor_stream_24 WHERE eventType <> 'Normal'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_10"],"transforms":[]}],"outputStreams":["rule_transform_stream_10","rule_notifier_stream_10"],"timestamp":1528179181783},{"reconfigure":false,"id":15,"versionId":19,"topologyId":4,"name":"Speeding Driver","description":"speeding driver","streams":["window_transform_stream_49"],"condition":"SPEED_AVG > 80","sql":"SELECT *  FROM window_transform_stream_49 WHERE SPEED_AVG > 80","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_11"],"transforms":[]}],"outputStreams":["rule_transform_stream_11","rule_notifier_stream_11"],"timestamp":1528179181783},{"reconfigure":false,"id":16,"versionId":19,"topologyId":4,"name":"projection_auto_generated","description":"projection description auto generated","streams":["rule_transform_stream_11"],"projections":[{"expr":"ROUND_AUTOCREATED(SPEED_AVG) AS speed_AVG_Round"},{"expr":"driverId"},{"expr":"driverName"},{"expr":"route"}],"sql":"SELECT ROUND_AUTOCREATED(SPEED_AVG) AS speed_AVG_Round,driverId,driverName,route FROM rule_transform_stream_11","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["projection_transform_stream_39"],"transforms":[]}],"outputStreams":["projection_transform_stream_47","projection_notifier_stream_47"],"timestamp":1528179181783}],"windows":[{"reconfigure":false,"id":7,"versionId":19,"topologyId":4,"name":"window_auto_generated","description":"window description auto generated","streams":["rule_transform_stream_10"],"window":{"windowLength":{"class":".Window$Duration","durationMs":180000},"slidingInterval":{"class":".Window$Duration","durationMs":180000},"tsField":null,"tsFields":[],"lagMs":0,"lateStream":null},"actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["window_transform_stream_49"],"transforms":[]}],"projections":[{"expr":"AVG(speed) AS SPEED_AVG"},{"expr":"driverId"},{"expr":"driverName"},{"expr":"route"}],"groupbykeys":["driverId","driverName","route"],"outputStreams":["window_transform_stream_49","window_notifier_stream_49"],"timestamp":1528179181783}],"branchRules":[],"bundleIdToType":{"1":"KAFKA","4":"RULE","5":"WINDOW","16":"DRUID","7":"JOIN","9":"PROJECTION"},"topologyEditorMetadata":{"topologyId":4,"versionId":19,"data":"{\"sources\":[{\"x\":163.75,\"y\":189.5,\"id\":42},{\"x\":171.75,\"y\":330,\"id\":41}],\"sinks\":[{\"x\":1614.25,\"y\":181.24998474121094,\"id\":48}],\"processors\":[{\"x\":429.25,\"y\":237.5,\"id\":43},{\"x\":674.25,\"y\":228.74998474121094,\"id\":44},{\"x\":1155.5,\"y\":227.49998474121094,\"id\":46},{\"x\":1393,\"y\":233.74998474121094,\"id\":47},{\"x\":928,\"y\":231.24998474121094,\"id\":49}],\"graphTransforms\":{\"dragCoords\":[-89,124],\"zoomScale\":0.8},\"customNames\":null}","timestamp":1528179115280}}